# Express Demo é¡¹ç›®

è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨ Express.js æ„å»ºçš„æ¼”ç¤ºé¡¹ç›®ï¼Œå®ç°äº†å‰åç«¯åˆ†ç¦»æ¶æ„çš„æ–‡ç« ç®¡ç†ç³»ç»Ÿã€‚

[express 5](https://expressjs.com/en/guide/migrating-5.html)
[express å…¥é—¨æ•™ç¨‹](https://developer.mozilla.org/zh-CN/docs/Learn_web_development/Extensions/Server-side/Express_Nodejs/Introduction)

## ç‰¹æ€§

- ğŸš€ å‰åç«¯åˆ†ç¦»æ¶æ„
- ğŸ“ æ–‡ç« çš„å¢åˆ æ”¹æŸ¥åŠŸèƒ½
- ğŸ”„ è‡ªåŠ¨ç«¯å£åˆ†é…æœºåˆ¶
- ğŸ›¡ PM2 è¿›ç¨‹ç®¡ç†å’Œå®ˆæŠ¤
- ğŸ”¥ å¼€å‘ç¯å¢ƒçƒ­é‡è½½
- ğŸŒ ç¯å¢ƒå˜é‡é…ç½®
- ğŸ“¦ JSON æ–‡ä»¶æ•°æ®æŒä¹…åŒ–

## æŠ€æœ¯æ ˆ

### åç«¯
- Express.js - Web åº”ç”¨æ¡†æ¶
- PM2 - Node.js è¿›ç¨‹ç®¡ç†å·¥å…·
- Nodemon - å¼€å‘ç¯å¢ƒçƒ­é‡è½½å·¥å…·
- dotenv - ç¯å¢ƒå˜é‡ç®¡ç†

### å‰ç«¯
- Vue.js - æ¸è¿›å¼ JavaScript æ¡†æ¶
- Vite - ç°ä»£å‰ç«¯æ„å»ºå·¥å…·
- Axios - HTTP å®¢æˆ·ç«¯

## é¡¹ç›®ç»“æ„

```tree
â”œâ”€â”€ client/                 # å‰ç«¯é¡¹ç›®ç›®å½•
â”‚   â”œâ”€â”€ src/               
â”‚   â”‚   â”œâ”€â”€ http/         # API è¯·æ±‚å°è£…
â”‚   â”‚   â”‚   â”œâ”€â”€ api.js    # API æ¥å£å®šä¹‰
â”‚   â”‚   â”‚   â””â”€â”€ index.js  # HTTP å®¢æˆ·ç«¯é…ç½®
â”‚   â”‚   â”œâ”€â”€ pages/        # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ ArticlesPage.vue  # æ–‡ç« ç®¡ç†é¡µé¢
â”‚   â”‚   â””â”€â”€ App.vue       # æ ¹ç»„ä»¶
â”‚   â”œâ”€â”€ index.html        # HTML å…¥å£æ–‡ä»¶
â”‚   â””â”€â”€ vite.config.js    # Vite é…ç½®æ–‡ä»¶
â”‚
â”œâ”€â”€ server/                # åç«¯é¡¹ç›®ç›®å½•
â”‚   â”œâ”€â”€ app.js            # åº”ç”¨å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ articlesRoutes.js # æ–‡ç« è·¯ç”±
â”‚   â”œâ”€â”€ articlesModel.js  # æ–‡ç« æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ articles.json     # æ–‡ç« æ•°æ®å­˜å‚¨
â”‚   â”œâ”€â”€ ecosystem.config.js # PM2 é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ nodemon.json      # Nodemon é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ .env              # ç¯å¢ƒå˜é‡é…ç½®
â”‚
â””â”€â”€ README.md             # é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js >= 14.0.0
- npm >= 6.0.0
- PM2 (å…¨å±€å®‰è£…)

### 1. å®‰è£…

```bash
# å…‹éš†é¡¹ç›®
git clone [é¡¹ç›®åœ°å€]

# å®‰è£…ä¾èµ–ï¼ˆæ ¹ç›®å½•æ‰§è¡Œï¼‰
npm run install-all

# å…¨å±€å®‰è£… PM2
npm install pm2 -g
```

### 2. é…ç½®

åœ¨ server ç›®å½•ä¸‹åˆ›å»º .env æ–‡ä»¶ï¼š
```env
PORT=3000
NODE_ENV=production
JWT_SECRET=your-super-secret-key-change-this-in-production
```

### 3. å¼€å‘æ¨¡å¼

```bash
# å¯åŠ¨åç«¯æœåŠ¡ï¼ˆäºŒé€‰ä¸€ï¼‰
cd server
npm run dev     # ä½¿ç”¨ PM2 å¯åŠ¨ï¼ˆæ”¯æŒçƒ­é‡è½½ï¼‰
# æˆ–
npm run old-dev # ä½¿ç”¨ nodemon å¯åŠ¨

# å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨
cd client
npm run dev
```

## PM2 ç®¡ç†å‘½ä»¤

### åŸºç¡€å‘½ä»¤
```bash
npm run dev         # å¼€å‘ç¯å¢ƒå¯åŠ¨ï¼ˆæ”¯æŒçƒ­é‡è½½ï¼‰
npm run start      # å¯åŠ¨æœåŠ¡
npm run start:pro  # ç”Ÿäº§ç¯å¢ƒå¯åŠ¨
npm run stop       # åœæ­¢æœåŠ¡
npm run restart    # é‡å¯æœåŠ¡
npm run monitor    # æ‰“å¼€ç›‘æ§é¢æ¿
```


## ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

### 1. å‰ç«¯æ„å»º
```bash
cd client
npm run build
```

### 2. åç«¯éƒ¨ç½²
```bash
cd server
npm run start:pro
```

## é¡¹ç›®ç‰¹ç‚¹è¯´æ˜

### è‡ªåŠ¨ç«¯å£åˆ†é…
- å½“é…ç½®çš„ç«¯å£è¢«å ç”¨æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å°è¯•ä¸‹ä¸€ä¸ªå¯ç”¨ç«¯å£
- é€‚åˆå¤šä¸ªæœåŠ¡å…±å­˜çš„å¼€å‘ç¯å¢ƒ

### æ•°æ®æŒä¹…åŒ–
- ä½¿ç”¨ JSON æ–‡ä»¶å­˜å‚¨æ•°æ®
- æ”¯æŒæ–‡ç« çš„å¢åˆ æ”¹æŸ¥æ“ä½œ
- é€‚åˆå°å‹åº”ç”¨å’ŒåŸå‹å¼€å‘

### å¼€å‘ä½“éªŒ
- æ”¯æŒçƒ­é‡è½½ï¼Œä»£ç ä¿®æ”¹åè‡ªåŠ¨é‡å¯
- å®Œæ•´çš„æ—¥å¿—ç³»ç»Ÿï¼Œæ–¹ä¾¿è°ƒè¯•
- çµæ´»çš„ç¯å¢ƒé…ç½®

## æ³¨æ„äº‹é¡¹

- ç¡®ä¿ server/.env æ–‡ä»¶ä¸è¢«æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ
- ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²æ—¶å»ºè®®å…³é—­æ–‡ä»¶ç›‘å¬åŠŸèƒ½
- å»ºè®®å®šæœŸå¤‡ä»½ articles.json æ•°æ®æ–‡ä»¶
- å¤§è§„æ¨¡éƒ¨ç½²æ—¶å»ºè®®ä½¿ç”¨æ•°æ®åº“æ›¿ä»£ JSON æ–‡ä»¶å­˜å‚¨

## è®¸å¯è¯

[MIT License](LICENSE)