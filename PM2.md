PM2 是一个带有负载均衡功能的 Node.js 应用的进程管理器。它可以用于应用的启动、停止、监控和管理。使用 PM2，可以保持应用持续运行，同时还能利用其内置的负载均衡功能在多核服务器上提高性能。

### 主要特点：
- **进程管理**：简化了进程的启动、停止、重启等操作。
- **负载均衡**：自动分配负载到各个核心，提高应用性能。
- **监控**：实时监控应用的性能和状态。
- **日志管理**：集中管理日志输出，方便问题追踪和记录。

### 使用场景：
- **生产环境部署**：在生产环境中部署 Node.js 应用时，PM2 可以提供稳定的进程管理和负载均衡。
- **开发环境**：在开发过程中，PM2 的监控和日志功能可以帮助开发者快速定位问题。

### 基本命令：
- `pm2 start app.js`：启动应用。
- `pm2 list`：显示所有由 PM2 管理的进程。
- `pm2 stop all`：停止所有进程。
- `pm2 restart all`：重启所有进程。
- `pm2 logs`：显示所有进程的日志。
- `pm2 monit`：监控所有进程。


### 日志管理
```bash
pm2 logs                # 查看实时日志
pm2 logs --lines 100    # 查看最近100行日志
pm2 logs --err         # 只查看错误日志
pm2 flush              # 清空所有日志
```

### 进程管理
```bash
pm2 list               # 查看进程列表
pm2 show express-demo  # 查看应用详细信息
pm2 delete express-demo # 删除应用
```

通过使用 PM2，开发者可以更加专注于应用的开发，而不是应用的运行和维护。

# 全局安装 PM2
npm install pm2 -g